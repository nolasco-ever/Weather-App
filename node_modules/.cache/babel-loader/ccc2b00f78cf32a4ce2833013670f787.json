{"ast":null,"code":"var _jsxFileName = \"/Users/evernolasco/reactproject/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useSpring, useTrail, animated, interpolate } from \"react-spring\";\nimport { CSVReader } from \"react-papaparse\";\nimport './App.css'; // Import component\n\nimport Forecast from \"./components/forecast\";\nimport Suggestions from \"./components/suggestions\";\nimport FetchCities from \"./usaCities\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_key = \"fae6fa0ed6e96f99493161cd7089d3a1\";\n\nfunction App() {\n  _s();\n\n  const [inputText, setInputText] = useState(\"\");\n  const [cityName, setCityName] = useState(\"Search for a city...\");\n  const [todayForecast, setTodayForecast] = useState([0]);\n  const [forecasts, setForecasts] = useState([]);\n  const [animate, setAnimate] = useState(true);\n\n  var infos = /*#__PURE__*/_jsxDEV(FetchCities, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 15\n  }, this);\n\n  console.log(infos); // boolean variable that will tell us if it is day or night\n\n  var isDay;\n\n  function inputTextHandler(e) {\n    setInputText(e.target.value);\n\n    if (e.target.value == \"\") {\n      if (animate != true) {\n        setAnimate(true);\n      }\n    } else {\n      if (animate != false) {\n        setAnimate(false);\n      }\n    }\n  }\n\n  ;\n\n  async function getWeatherData(e) {\n    // Clear previous state\n    setTodayForecast([0]);\n    setForecasts([]);\n    e.preventDefault(); // Animate\n\n    setAnimate(true);\n    var location = inputText; // make sure user inputs a valid city and state separated by comma\n\n    if (location.includes(',')) {\n      var locArr = location.split(',');\n      var city = locArr[0];\n      var state = locArr[1]; // fetch data from weather api\n\n      const dataToday = await fetch('https://api.openweathermap.org/data/2.5/weather?q=' + city + ',' + state + '&appid=' + API_key).then(res => res.json()).then(dataToday => dataToday);\n      setCityName(dataToday.name); // Gather coordinates\n\n      var long = dataToday.coord.lon;\n      var lat = dataToday.coord.lat;\n      const data = await fetch('https://api.openweathermap.org/data/2.5/onecall?lat=' + lat + '&lon=' + long + '&units=imperial&appid=' + API_key).then(res => res.json()).then(data => data);\n      console.log(data); // Create array of that will hold converted unix timestamps to weekdays\n\n      var numOfDays = data.daily.length - 1;\n      var weekDays = new Array(numOfDays); // Loop through array and convert each element from unix to weekday\n\n      for (var i = 0; i < numOfDays; i++) {\n        var dateObject = new Date(data.daily[i].dt * 1000);\n        var day = dateObject.toLocaleString(\"en-US\", {\n          weekday: \"long\"\n        });\n\n        if (i == 0) {\n          weekDays[i] = 'Today';\n        } else {\n          weekDays[i] = day;\n        }\n      }\n\n      if (Date.now() / 1000 > data.daily[0].sunrise && Date.now() / 1000 < data.daily[0].sunset) {\n        isDay = true;\n      } else {\n        isDay = false;\n      } // Set current hour temp, clouds, and cloud type\n\n\n      var currentTemp = data.hourly[0].feels_like;\n      var curClouds = data.hourly[0].weather[0].description;\n      var curCloudType = data.hourly[0].weather[0].main; // Create arrays for temp, clouds, hightemp, lowtemp\n\n      var tempArr = new Array(numOfDays);\n      var cloudsTypeArr = new Array(numOfDays);\n      var cloudsArr = new Array(numOfDays);\n      var highArr = new Array(numOfDays);\n      var lowArr = new Array(numOfDays);\n\n      for (var i = 0; i < numOfDays; i++) {\n        tempArr[i] = data.daily[i].temp.day;\n        cloudsTypeArr[i] = data.daily[i].weather[0].main;\n        cloudsArr[i] = data.daily[i].weather[0].description;\n        highArr[i] = data.daily[i].temp.max;\n        lowArr[i] = data.daily[i].temp.min;\n      } // Set today' forecast\n\n\n      setTodayForecast([{\n        id: Math.random() * 1000,\n        day: weekDays[0],\n        timeOfDay: isDay,\n        temp: currentTemp,\n        cloudsType: curCloudType,\n        clouds: curClouds,\n        high: highArr[0],\n        low: lowArr[0]\n      }]); // Set week's forecast\n\n      for (var i = 1; i < weekDays.length; i++) {\n        setForecasts(forecasts => [...forecasts, {\n          id: Math.random() * 1000,\n          day: weekDays[i],\n          timeOfDay: true,\n          temp: tempArr[i],\n          cloudsType: cloudsTypeArr[i],\n          clouds: cloudsArr[i],\n          high: highArr[i],\n          low: lowArr[i]\n        }]);\n      }\n    } else {\n      alert(\"Input a city and state separated by a comma\");\n    }\n\n    setInputText(\"\");\n  }\n\n  ;\n  console.log(cityName);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"body\", {\n      style: isDay == true ? {\n        background: \"-webkit-linear-gradient(to right, #91EAE4, #86A8E7, #7F7FD5)\",\n\n        /* Chrome 10-25, Safari 5.1-6 */\n        background: \"linear-gradient(to right, #91EAE4, #86A8E7, #7F7FD5)\",\n\n        /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\n        color: \"#000\"\n      } : {\n        background: \"-webkit-linear-gradient(to right, #243B55, #141E30)\",\n\n        /* Chrome 10-25, Safari 5.1-6 */\n        background: \"linear-gradient(to right, #243B55, #141E30)\",\n\n        /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\n        color: \"#fff\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"App-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"logo\",\n          src: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: getWeatherData,\n          className: \"search-bar\",\n          style: isDay == true ? {\n            border: \"1px #000 solid\"\n          } : {\n            border: \"1px #fff solid\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"https://cdn2.iconfinder.com/data/icons/font-awesome/1792/search-512.png\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: inputText,\n            onChange: inputTextHandler,\n            placeholder: \"City, State\",\n            style: isDay == true ? {\n              color: \"#000\"\n            } : {\n              color: \"#fff\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"location-ttl\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: animate == true ? cityName : \"Search for a city...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 37\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Suggestions, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Forecast, {\n        todayForecast: todayForecast,\n        forecasts: forecasts,\n        animate: animate,\n        setAnimate: setAnimate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 198,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"yViJ2MjpzG+FaA2JizgSvmG0G+c=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/evernolasco/reactproject/src/App.js"],"names":["React","useState","useSpring","useTrail","animated","interpolate","CSVReader","Forecast","Suggestions","FetchCities","API_key","App","inputText","setInputText","cityName","setCityName","todayForecast","setTodayForecast","forecasts","setForecasts","animate","setAnimate","infos","console","log","isDay","inputTextHandler","e","target","value","getWeatherData","preventDefault","location","includes","locArr","split","city","state","dataToday","fetch","then","res","json","name","long","coord","lon","lat","data","numOfDays","daily","length","weekDays","Array","i","dateObject","Date","dt","day","toLocaleString","weekday","now","sunrise","sunset","currentTemp","hourly","feels_like","curClouds","weather","description","curCloudType","main","tempArr","cloudsTypeArr","cloudsArr","highArr","lowArr","temp","max","min","id","Math","random","timeOfDay","cloudsType","clouds","high","low","alert","background","color","border"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport { useSpring, useTrail, animated, interpolate } from \"react-spring\";\nimport {CSVReader} from \"react-papaparse\";\nimport './App.css';\n\n// Import component\nimport Forecast from \"./components/forecast\";\nimport Suggestions from \"./components/suggestions\";\nimport FetchCities from \"./usaCities\";\n\nconst API_key = \"fae6fa0ed6e96f99493161cd7089d3a1\";\n\nfunction App() {\n  const [inputText, setInputText] = useState(\"\");\n  const [cityName, setCityName] = useState(\"Search for a city...\");\n  const [todayForecast, setTodayForecast] = useState([0]);\n  const [forecasts, setForecasts] = useState([]);\n  const [animate, setAnimate] = useState(true);\n\n\n  var infos = <FetchCities/>\n  console.log(infos);\n\n\n\n\n\n\n\n\n\n\n\n\n\n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  // boolean variable that will tell us if it is day or night\n  var isDay;\n\n  function inputTextHandler(e){\n    setInputText(e.target.value);\n\n    if(e.target.value == \"\"){\n      if(animate != true){\n        setAnimate(true);\n      }\n    }\n    else{\n      if(animate != false){\n        setAnimate(false);\n      }\n    }\n  };\n\n\n  async function getWeatherData(e){\n    // Clear previous state\n    setTodayForecast([0]);\n    setForecasts([]);\n\n    e.preventDefault();\n\n    // Animate\n    setAnimate(true);\n\n    var location = inputText;\n\n    // make sure user inputs a valid city and state separated by comma\n    if(location.includes(',')){\n      var locArr = location.split(',');\n\n      var city = locArr[0];\n      var state = locArr[1];\n\n      // fetch data from weather api\n      const dataToday = await fetch(\n        'https://api.openweathermap.org/data/2.5/weather?q='+city+','+state+'&appid='+API_key\n      ).then((res) => res.json())\n      .then((dataToday) => dataToday);\n\n      setCityName(dataToday.name);\n      \n      // Gather coordinates\n      var long = dataToday.coord.lon;\n      var lat = dataToday.coord.lat;\n\n      const data = await fetch(\n        'https://api.openweathermap.org/data/2.5/onecall?lat='+lat+'&lon='+long+'&units=imperial&appid='+API_key\n      ).then((res) => res.json())\n      .then((data) => data);\n\n      console.log(data);\n\n      // Create array of that will hold converted unix timestamps to weekdays\n      var numOfDays = data.daily.length - 1;\n      var weekDays = new Array(numOfDays);\n\n      // Loop through array and convert each element from unix to weekday\n      for (var i = 0; i < numOfDays; i++){\n        var dateObject = new Date(data.daily[i].dt * 1000);\n        var day = dateObject.toLocaleString(\"en-US\", {weekday: \"long\"});\n\n        if(i == 0){\n          weekDays[i] = 'Today';\n        }\n        else{\n          weekDays[i] = day;\n        }\n      }\n\n      if ((Date.now()/1000) > data.daily[0].sunrise && (Date.now()/1000) < data.daily[0].sunset){\n        isDay = true;\n      }\n      else{\n        isDay = false;\n      }\n\n      // Set current hour temp, clouds, and cloud type\n      var currentTemp = data.hourly[0].feels_like;\n      var curClouds = data.hourly[0].weather[0].description;\n      var curCloudType = data.hourly[0].weather[0].main;\n\n\n      // Create arrays for temp, clouds, hightemp, lowtemp\n      var tempArr = new Array(numOfDays);\n      var cloudsTypeArr = new Array(numOfDays);\n      var cloudsArr = new Array(numOfDays);\n      var highArr = new Array(numOfDays);\n      var lowArr = new Array(numOfDays);\n\n      for(var i = 0; i < numOfDays; i++){\n        tempArr[i] = data.daily[i].temp.day;\n        cloudsTypeArr[i] = data.daily[i].weather[0].main;\n        cloudsArr[i] = data.daily[i].weather[0].description;\n        highArr[i] = data.daily[i].temp.max;\n        lowArr[i] = data.daily[i].temp.min;\n      }\n      \n      // Set today' forecast\n      setTodayForecast([{id: Math.random() * 1000,\n        day: weekDays[0],\n        timeOfDay: isDay,\n        temp: currentTemp,\n        cloudsType: curCloudType,\n        clouds: curClouds,\n        high: highArr[0],\n        low: lowArr[0]}])\n\n      // Set week's forecast\n      for(var i = 1; i < weekDays.length; i++){\n        setForecasts((forecasts) => [...forecasts, {id: Math.random() * 1000,\n          day: weekDays[i],\n          timeOfDay: true,\n          temp: tempArr[i],\n          cloudsType: cloudsTypeArr[i],\n          clouds: cloudsArr[i],\n          high: highArr[i],\n          low: lowArr[i]},])\n      }\n    }\n    else{\n      alert(\"Input a city and state separated by a comma\");\n    }\n\n    setInputText(\"\");\n  };\n\n  console.log(cityName);\n\n  return (\n    <div className=\"App\">\n      <body style={\n        isDay == true ? {background: \"-webkit-linear-gradient(to right, #91EAE4, #86A8E7, #7F7FD5)\",  /* Chrome 10-25, Safari 5.1-6 */\n                         background: \"linear-gradient(to right, #91EAE4, #86A8E7, #7F7FD5)\", /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\n                         color: \"#000\"\n        } : {background: \"-webkit-linear-gradient(to right, #243B55, #141E30)\",  /* Chrome 10-25, Safari 5.1-6 */\n             background: \"linear-gradient(to right, #243B55, #141E30)\", /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\n          color: \"#fff\"\n          }\n      }>\n      <header className=\"App-header\">\n        <img className=\"logo\" src=\"\"/>\n        <form onSubmit={getWeatherData} className=\"search-bar\"\n              style={isDay == true ? {border: \"1px #000 solid\"} : {border: \"1px #fff solid\"}}>\n          <img src=\"https://cdn2.iconfinder.com/data/icons/font-awesome/1792/search-512.png\"/>\n          <input value={inputText} onChange={inputTextHandler} placeholder=\"City, State\"\n                  style={isDay == true ? {color: \"#000\"} : {color: \"#fff\"}}/>\n        </form>\n      </header>\n\n      <div className=\"location-ttl\"><h3>{animate == true ? cityName : \"Search for a city...\"}</h3></div>\n\n      <Suggestions/>\n\n      <Forecast\n        todayForecast={todayForecast}\n        forecasts={forecasts}\n        animate={animate}\n        setAnimate={setAnimate}\n      />\n      </body>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}